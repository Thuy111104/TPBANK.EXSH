<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Client-side API Tester</title>
<style>
body { font-family: Arial; padding: 20px; }
textarea { width: 100%; height: 160px; }
button { padding: 10px 18px; margin-top: 10px; }
pre { background: #111; color: #0f0; padding: 15px; border-radius: 8px; white-space: pre-wrap; }
</style>
</head>
<body>

<h2>Client-side Request Tool</h2>

<label>URL:</label>
<input id="url" style="width:100%; padding:8px" 
       value="https://vasp-pain.org/get_votes?last_updated=2025-12-02%2013%3A13%3A00">
<br><br>

<label>Headers (JSON):</label>
<textarea id="headers">{
  "Accept": "*/*",
  "Origin": "https://yourgithub.github.io",
  "User-Agent": "Browser"
}</textarea>

<button onclick="send()">Gửi Request</button>

<h3>Phản hồi:</h3>
<pre id="output">Chưa có dữ liệu...</pre>

<script>
async function send() {
    const url = document.getElementById("url").value;
    let headers = {};
    try { headers = JSON.parse(document.getElementById("headers").value); }
    catch { return alert("Headers không hợp lệ!"); }

    document.getElementById("output").innerText = "Đang gửi request...";

    try {
        const res = await fetch(url, { method:"GET", headers: headers });
        const text = await res.text();
        document.getElementById("output").innerText = text;
    } catch(e) {
        document.getElementById("output").innerText = "Lỗi: " + e.message;
    }
}
</script>

</body>
</html>
